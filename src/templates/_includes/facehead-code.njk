<div style="color: #d6deeb;font-family: Menlo, Monaco, 'Courier New', monospace;font-weight: normal;"><div><span style="color: #d6deeb;">WebGLMultipleRenderTargets</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #7fdbca;">prototype</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #baebe2;">isWebGLMultipleRenderTargets</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #ff5874;">true</span><span style="color: #d6deeb;">;</span></div><br><div><span style="color: #c792ea;">class</span><span style="color: #d6deeb;"> </span><span style="color: #ffcb8b;">WebGLMultisampleRenderTarget</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;font-style: italic;">extends</span><span style="color: #d6deeb;"> </span><span style="color: #c5e478;">WebGLRenderTarget</span><span style="color: #d6deeb;"> {</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #82aaff;">constructor</span><span style="color: #d9f5dd;">(</span><span style="color: #d7dbe0;">width</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">height</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">options</span><span style="color: #d9f5dd;">)</span><span style="color: #d6deeb;"> {</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #7fdbca;">super</span><span style="color: #d6deeb;">(</span><span style="color: #d7dbe0;">width</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">height</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">options</span><span style="color: #d6deeb;">);</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #7fdbca;">this</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #baebe2;">samples</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">4</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><br><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #82aaff;font-style: italic;">copy</span><span style="color: #d9f5dd;">(</span><span style="color: #d7dbe0;">source</span><span style="color: #d9f5dd;">)</span><span style="color: #d6deeb;"> {</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #7fdbca;">super</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #faf39f;font-style: italic;">copy</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #82aaff;font-style: italic;">call</span><span style="color: #d6deeb;">(</span><span style="color: #7fdbca;">this</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">source</span><span style="color: #d6deeb;">);</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #7fdbca;">this</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #baebe2;">samples</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #7fdbca;font-style: italic;">source</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #baebe2;">samples</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">return</span><span style="color: #d6deeb;"> </span><span style="color: #7fdbca;">this</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><br><div><span style="color: #d6deeb;">}</span></div><br><div><span style="color: #d6deeb;">WebGLMultisampleRenderTarget</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #7fdbca;">prototype</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #baebe2;">isWebGLMultisampleRenderTarget</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #ff5874;">true</span><span style="color: #d6deeb;">;</span></div><br><div><span style="color: #c792ea;">class</span><span style="color: #d6deeb;"> </span><span style="color: #ffcb8b;">Quaternion</span><span style="color: #d6deeb;"> {</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #82aaff;">constructor</span><span style="color: #d9f5dd;">(</span><span style="color: #d7dbe0;">x</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">0</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">y</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">0</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">z</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">0</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">w</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">1</span><span style="color: #d9f5dd;">)</span><span style="color: #d6deeb;"> {</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #7fdbca;">this</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #baebe2;">_x</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">x</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #7fdbca;">this</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #baebe2;">_y</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">y</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #7fdbca;">this</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #baebe2;">_z</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">z</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #7fdbca;">this</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #baebe2;">_w</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">w</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><br><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">static</span><span style="color: #d6deeb;"> </span><span style="color: #82aaff;font-style: italic;">slerp</span><span style="color: #d9f5dd;">(</span><span style="color: #d7dbe0;">qa</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">qb</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">qm</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">t</span><span style="color: #d9f5dd;">)</span><span style="color: #d6deeb;"> {</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #7fdbca;font-style: italic;">console</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #82aaff;font-style: italic;">warn</span><span style="color: #d6deeb;">(</span><span style="color: #d9f5dd;">'</span><span style="color: #ecc48d;">THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.</span><span style="color: #d9f5dd;">'</span><span style="color: #d6deeb;">);</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">return</span><span style="color: #d6deeb;"> </span><span style="color: #7fdbca;font-style: italic;">qm</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #82aaff;font-style: italic;">slerpQuaternions</span><span style="color: #d6deeb;">(</span><span style="color: #d7dbe0;">qa</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">qb</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">t</span><span style="color: #d6deeb;">);</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><br><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">static</span><span style="color: #d6deeb;"> </span><span style="color: #82aaff;font-style: italic;">slerpFlat</span><span style="color: #d9f5dd;">(</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">src0</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">srcOffset0</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">src1</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">srcOffset1</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">t</span><span style="color: #d9f5dd;">)</span><span style="color: #d6deeb;"> {</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #637777;">//</span><span style="color: #637777;font-style: italic;"> fuzz-free, array-based Quaternion SLERP operation</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">let </span><span style="color: #d7dbe0;">x0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">src0</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">srcOffset0</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #f78c6c;">0</span><span style="color: #d6deeb;">]</span><span style="color: #c792ea;">,</span></div><div><span style="color: #c792ea;font-style: italic;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">y0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">src0</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">srcOffset0</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #f78c6c;">1</span><span style="color: #d6deeb;">]</span><span style="color: #c792ea;">,</span></div><div><span style="color: #c792ea;font-style: italic;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">z0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">src0</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">srcOffset0</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #f78c6c;">2</span><span style="color: #d6deeb;">]</span><span style="color: #c792ea;">,</span></div><div><span style="color: #c792ea;font-style: italic;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">w0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">src0</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">srcOffset0</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #f78c6c;">3</span><span style="color: #d6deeb;">];</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">const </span><span style="color: #82aaff;font-style: italic;">x1</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">src1</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">srcOffset1</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #f78c6c;">0</span><span style="color: #d6deeb;">]</span><span style="color: #c792ea;">,</span></div><div><span style="color: #c792ea;font-style: italic;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #82aaff;font-style: italic;">y1</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">src1</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">srcOffset1</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #f78c6c;">1</span><span style="color: #d6deeb;">]</span><span style="color: #c792ea;">,</span></div><div><span style="color: #c792ea;font-style: italic;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #82aaff;font-style: italic;">z1</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">src1</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">srcOffset1</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #f78c6c;">2</span><span style="color: #d6deeb;">]</span><span style="color: #c792ea;">,</span></div><div><span style="color: #c792ea;font-style: italic;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #82aaff;font-style: italic;">w1</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">src1</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">srcOffset1</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #f78c6c;">3</span><span style="color: #d6deeb;">];</span></div><br><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;">if</span><span style="color: #d6deeb;"> (</span><span style="color: #d7dbe0;">t</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">===</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">0</span><span style="color: #d6deeb;">) {</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">0</span><span style="color: #d6deeb;">] </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">x0</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">1</span><span style="color: #d6deeb;">] </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">y0</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">2</span><span style="color: #d6deeb;">] </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">z0</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">3</span><span style="color: #d6deeb;">] </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">w0</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">return</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><br><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;">if</span><span style="color: #d6deeb;"> (</span><span style="color: #d7dbe0;">t</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">===</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">1</span><span style="color: #d6deeb;">) {</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">0</span><span style="color: #d6deeb;">] </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">x1</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">1</span><span style="color: #d6deeb;">] </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">y1</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">2</span><span style="color: #d6deeb;">] </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">z1</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">3</span><span style="color: #d6deeb;">] </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">w1</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">return</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><br><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;">if</span><span style="color: #d6deeb;"> (</span><span style="color: #d7dbe0;">w0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">!==</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">w1</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">||</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">x0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">!==</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">x1</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">||</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">y0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">!==</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">y1</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">||</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">z0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">!==</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">z1</span><span style="color: #d6deeb;">) {</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">let </span><span style="color: #d7dbe0;">s</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #f78c6c;">1</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">-</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">t</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">const </span><span style="color: #82aaff;font-style: italic;">cos</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">x0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">*</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">x1</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">y0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">*</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">y1</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">z0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">*</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">z1</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">w0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">*</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">w1</span><span style="color: #c792ea;">,</span></div><div><span style="color: #c792ea;font-style: italic;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #82aaff;font-style: italic;">dir</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">cos</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">&gt;=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #f78c6c;">0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">?</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #f78c6c;">1</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">:</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">-</span><span style="color: #f78c6c;">1</span><span style="color: #c792ea;">,</span></div><div><span style="color: #c792ea;font-style: italic;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #82aaff;font-style: italic;">sqrSin</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #f78c6c;">1</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">-</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">cos</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">*</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">cos</span><span style="color: #d6deeb;">; </span><span style="color: #637777;">//</span><span style="color: #637777;font-style: italic;"> Skip the Slerp for tiny steps to avoid numeric problems:</span></div><br><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;">if</span><span style="color: #d6deeb;"> (</span><span style="color: #d7dbe0;">sqrSin</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">&gt;</span><span style="color: #d6deeb;"> </span><span style="color: #c5e478;">Number</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #d6deeb;">EPSILON) {</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">const </span><span style="color: #82aaff;font-style: italic;">sin</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c5e478;font-style: italic;">Math</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #c5e478;font-style: italic;">sqrt</span><span style="color: #d6deeb;">(</span><span style="color: #d7dbe0;">sqrSin</span><span style="color: #d6deeb;">)</span><span style="color: #c792ea;">,</span></div><div><span style="color: #c792ea;font-style: italic;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #82aaff;font-style: italic;">len</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c5e478;font-style: italic;">Math</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #c5e478;font-style: italic;">atan2</span><span style="color: #d6deeb;">(</span><span style="color: #d7dbe0;">sin</span><span style="color: #c792ea;">,</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">cos</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">*</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">dir</span><span style="color: #d6deeb;">);</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">s</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #c5e478;">Math</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #c5e478;">sin</span><span style="color: #d6deeb;">(</span><span style="color: #d7dbe0;">s</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">len</span><span style="color: #d6deeb;">) </span><span style="color: #c792ea;">/</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">sin</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">t</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #c5e478;">Math</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #c5e478;">sin</span><span style="color: #d6deeb;">(</span><span style="color: #d7dbe0;">t</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">len</span><span style="color: #d6deeb;">) </span><span style="color: #c792ea;">/</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">sin</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><br><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">const </span><span style="color: #82aaff;font-style: italic;">tDir</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">t</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">*</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">dir</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">x0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">x0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">s</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">x1</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">tDir</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">y0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">y0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">s</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">y1</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">tDir</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">z0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">z0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">s</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">z1</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">tDir</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">w0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">w0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">s</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">w1</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">tDir</span><span style="color: #d6deeb;">; </span><span style="color: #637777;">//</span><span style="color: #637777;font-style: italic;"> Normalize in case we just did a lerp:</span></div><br><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;">if</span><span style="color: #d6deeb;"> (</span><span style="color: #d7dbe0;">s</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">===</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">1</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">-</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">t</span><span style="color: #d6deeb;">) {</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">const </span><span style="color: #82aaff;font-style: italic;">f</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #f78c6c;">1</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">/</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c5e478;font-style: italic;">Math</span><span style="color: #c792ea;font-style: italic;">.</span><span style="color: #c5e478;font-style: italic;">sqrt</span><span style="color: #d6deeb;">(</span><span style="color: #d7dbe0;">x0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">*</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">x0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">y0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">*</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">y0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">z0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">*</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">z0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">w0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">*</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">w0</span><span style="color: #d6deeb;">);</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">x0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">f</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">y0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">f</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">z0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">f</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">w0</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">*=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">f</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><br><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;">] </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">x0</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">1</span><span style="color: #d6deeb;">] </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">y0</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">2</span><span style="color: #d6deeb;">] </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">z0</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;"> </span><span style="color: #f78c6c;">3</span><span style="color: #d6deeb;">] </span><span style="color: #c792ea;">=</span><span style="color: #d6deeb;"> </span><span style="color: #d7dbe0;">w0</span><span style="color: #d6deeb;">;</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;}</span></div><br><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">static</span><span style="color: #d6deeb;"> </span><span style="color: #82aaff;font-style: italic;">multiplyQuaternionsFlat</span><span style="color: #d9f5dd;">(</span><span style="color: #d7dbe0;">dst</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">dstOffset</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">src0</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">srcOffset0</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">src1</span><span style="color: #d6deeb;">, </span><span style="color: #d7dbe0;">srcOffset1</span><span style="color: #d9f5dd;">)</span><span style="color: #d6deeb;"> {</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">const </span><span style="color: #82aaff;font-style: italic;">x0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">src0</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">srcOffset0</span><span style="color: #d6deeb;">];</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">const </span><span style="color: #82aaff;font-style: italic;">y0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">src0</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">srcOffset0</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #f78c6c;">1</span><span style="color: #d6deeb;">];</span></div><div><span style="color: #d6deeb;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #c792ea;font-style: italic;">const </span><span style="color: #82aaff;font-style: italic;">z0</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #c792ea;">=</span><span style="color: #c792ea;font-style: italic;"> </span><span style="color: #d7dbe0;">src0</span><span style="color: #d6deeb;">[</span><span style="color: #d7dbe0;">srcOffset0</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #c792ea;">+</span><span style="color: #d6deeb;font-style: italic;"> </span><span style="color: #f78c6c;">2</span><span style="color: #d6deeb;">];</span></div></div>